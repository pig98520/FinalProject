"0","#新增一個欄位判斷班機是否delay"
"0","for(n in 1:nrow(X0605_0607) )"
"0","{"
"0","  if(X0605_0607[n,6]==X0605_0607[n,8]){"
"0","    if(X0605_0607[n,7]<X0605_0607[n,9]){"
"0","      X0605_0607$delay[n]=""T"""
"0","    }else"
"0","      X0605_0607$delay[n]=""F"""
"0","  }"
"0","  else if(X0605_0607[n,6]<X0605_0607[n,8])"
"0","    X0605_0607$delay[n]=""T"""
"0","  else if(X0605_0607[n,6]>X0605_0607[n,8])"
"0","    X0605_0607$delay[n]=""F"""
"0","}"
"2","Unknown column 'delay'"
"2","Warning messages:
"
"2","1: Unknown column 'delay' 
"
"2","2: Unknown column 'delay' 
"
"2","3: Unknown column 'delay' 
"
"2","4: Unknown column 'delay' 
"
"2","5: "
"2","In strsplit(code, ""\n"", fixed = TRUE) :"
"2","
 "
"2"," input string 1 is invalid in this locale
"
"0","View(X0605_0607)"
"0","#將資料分成出境跟入境兩個子集"
"0","arrive<-subset(X0605_0607,species==""A"");"
"0","depart<-subset(X0605_0607,species==""D"");"
"0","#用table統計出各航空公司的有/無delay次數,並轉為dataframe"
"0","arrive_delay<-table(airline=arrive$airline_id,delay=arrive$delay)%>%as.data.frame.matrix()"
"0","depart_delay<-table(airline=depart$airline_id,delay=depart$delay)%>%as.data.frame.matrix()"
"0","#整理出各航空公司的航班數"
"0","flight_num<-table(airline=X0605_0607$airline_id,species=X0605_0607$species)%>%as.data.frame.matrix()"
"0","flight_num<-flight_num[order(flight_num$A+flight_num$D,decreasing = T),]"
"0","#檢視各航空公司的航班數"
"0","View(flight_num)"
"0","#計算出各航空公司的delay比例"
"0","arrive_delay$ratio<-arrive_delay$T/(arrive_delay$T+arrive_delay$F)"
"0","depart_delay$ratio<-depart_delay$T/(depart_delay$T+depart_delay$F)"
"0","View(arrive_delay)"
"0","View(depart_delay)"
"0","#入境最不準時的六大航空公司:捷星太平洋、遠東航空、四川、全亞洲、德威、濟州"
"0","head(arrive_delay[order(arrive_delay$ratio,decreasing = T),])"
